"use strict";(self.webpackChunksc_pier_workability=self.webpackChunksc_pier_workability||[]).push([[56579],{56579:(t,e,r)=>{r.r(e),r.d(e,{executeAttributeBinsQuery:()=>S});var i=r(54994),n=r(3825),s=r(90534),a=r(19902),u=r(1438),o=r(80963),l=r(78238);function c(t){const e=t.geometry,r=t.toJSON(),i=r;let n,s,u;if(null!=e&&(s=e.spatialReference,u=(0,o.YX)(s),i.geometryType=(0,a.$B)(e),i.geometry=JSON.stringify(e),i.inSR=u),r.outSR?(i.outSR=(0,o.YX)(r.outSR),n=t.outSpatialReference):e&&(i.outSR=i.inSR,n=s),i.bin&&=JSON.stringify(i.bin),i.quantizationParameters&&=JSON.stringify(i.quantizationParameters),i.outStatistics&&=JSON.stringify(i.outStatistics),i.outTimeReference&&=JSON.stringify(i.outTimeReference),r.timeExtent){const t=r.timeExtent,{start:e,end:n}=t;null==e&&null==n||(i.time=e===n?e:`${e??"null"},${n??"null"}`),delete r.timeExtent}return t.defaultSpatialReference&&(0,o.aI)(s,n)&&(i.defaultSR=i.inSR,delete i.inSR,delete i.outSR),i}async function f(t,e,r){return null!=e.timeExtent&&e.timeExtent.isEmpty?{data:{features:[]}}:await async function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i="string"==typeof t?(0,s.An)(t):t,a=e.geometry?[e.geometry]:[],o=await(0,u.el)(a,null,{signal:r.signal}),f=o?.[0];null!=f&&((e=e.clone()).geometry=f);const y=(0,l.z)({...i.query,f:"json",...c(e)});return(0,n.A)((0,s.fj)(i.path,"queryBins"),{...r,query:{...y,...r.query}})}(t,e,r)}var y=r(80424),p=r(39729);async function S(t,e,r){const{data:n}=await f((0,i.Dl)(t),p.default.from(e),r);return y.A.fromJSON(n)}},80424:(t,e,r)=>{r.d(e,{A:()=>p});var i,n=r(35143),s=r(39356),a=r(69098),u=r(53084),o=r(46053),l=(r(81806),r(76460),r(85842));let c=class extends(a.A.ClonableMixin(s.A)){static#t=(()=>i=this)();constructor(t){super(t),this.stackedAttributes=null}cloneShallow(){return new i({...super.cloneShallow(),stackedAttributes:this.stackedAttributes})}toJSON(){return{...super.toJSON(),stackedAttributes:(0,u.o8)(this.stackedAttributes)}}};(0,n._)([(0,o.MZ)()],c.prototype,"stackedAttributes",void 0),c=i=(0,n._)([(0,l.$)("esri.AttributeBinsGraphic")],c);r(47249);var f=r(28379),y=r(77725);let p=class extends(a.A.ClonableMixin(y.A)){constructor(){super(...arguments),this.features=[]}readFeatures(t,e){return this.readFeaturesWithClass(t,e,c)}};(0,n._)([(0,o.MZ)({type:[c],json:{write:!0}})],p.prototype,"features",void 0),(0,n._)([(0,f.w)("features")],p.prototype,"readFeatures",null),p=(0,n._)([(0,l.$)("esri.rest.support.AttributeBinsFeatureSet")],p)}}]);
//# sourceMappingURL=56579.aa580816.chunk.js.map