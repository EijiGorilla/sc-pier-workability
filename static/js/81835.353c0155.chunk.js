"use strict";(self.webpackChunksc_pier_workability=self.webpackChunksc_pier_workability||[]).push([[81835],{28383:(e,i,n)=>{n.d(i,{$r:()=>h,Jc:()=>w,Lc:()=>T,MH:()=>F,Wk:()=>b,gV:()=>z,lX:()=>g,rb:()=>I,sf:()=>x});var t=n(50076),a=n(76931),l=n(18288),o=n(19247),s=n(13312),r=n(76279),u=n(80963),f=n(53430),m=n(4414),d=n(42633),c=n(72003),p=n(76386);let v=null;const y=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;function h(e,i,n,t){const a=(0,u.d9)(n)?(0,u.Vp)(n):null,l=a?Math.round((a.valid[1]-a.valid[0])/i.scale[0]):null;return e.map(e=>{const n=new o.A(e.geometry);return(0,r.Gy)(i,n,n),e.geometry=a?function(e,i,n){return e.x<0?e.x+=i:e.x>n&&(e.x-=i),e}(n,l??0,t[0]):n,e})}function z(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;const o=new Float64Array(t*l);i=Math.round((0,a.Lz)(i));let s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;const u=(0,m.YW)(n);for(const{geometry:a,attributes:f}of e){const{x:e,y:n}=a,d=Math.max(0,e-i),c=Math.max(0,n-i),p=Math.min(l,n+i),v=Math.min(t,e+i),y=+u(f);for(let a=c;a<p;a++)for(let l=d;l<v;l++){const u=a*t+l,f=(0,m.hv)(l-e,a-n,i)*y,d=o[u]+=f;s=Math.min(s,d),r=Math.max(r,d)}}return{min:s,max:r}}function I(e){const i=y.exec(e);if(!i)return null;const{hh:n,mm:t,ss:a,ms:o}=i.groups;return Number(n)*l.vf.hours+Number(t)*l.vf.minutes+Number(a)*l.vf.seconds+Number(o||0)}async function w(e,i){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!i)return[];const{field:t,field2:a,field3:l,fieldDelimiter:o,fieldInfos:r,timeZone:u}=e,m=t&&r?.find(e=>e.name.toLowerCase()===t.toLowerCase()),y=!!m&&(0,f.OH)(m),h=!!m&&(0,d.fs)(m),z=e.valueExpression,w=e.normalizationType,T=e.normalizationField,g=e.normalizationTotal,x=[],b=e.viewInfoParams;let F=null,V=null;if(z){if(!v){const{arcadeUtils:e}=await(0,p.l)();v=e}v.hasGeometryOperations(z)&&await v.enableGeometryOperations(),F=v.createFunction(z),V=b?v.getViewInfo({viewingMode:b.viewingMode,scale:b.scale,spatialReference:new s.A(b.spatialReference)}):null}const M=e.fieldInfos,N=i[0]&&"declaredClass"in i[0]&&"esri.Graphic"===i[0].declaredClass||!M?null:{fields:M};return i.forEach(e=>{const i=e.attributes;let s;if(z){const i=N?{...e,layer:N}:e,n=v.createExecContext(i,V,u);s=v.executeFunction(F,n)}else i&&(s=i[t],a?(s=`${(0,c.gJ)(s)}${o}${(0,c.gJ)(i[a])}`,l&&(s=`${s}${o}${(0,c.gJ)(i[l])}`)):"string"==typeof s&&n&&(h?s=s?new Date(s).getTime():null:y&&(s=s?I(s):null)));if(w&&"number"==typeof s&&isFinite(s)){const e=i&&parseFloat(i[T]);s=(0,c.zS)(s,w,e,g)}x.push(s)}),x}function T(e){const i=e.field,n=e.normalizationType,t=e.normalizationField;let a;return"field"===n?a="(NOT "+t+" = 0)":"log"!==n&&"natural-log"!==n&&"square-root"!==n||(a=`(${i} > 0)`),a}function g(e,i,n){const t=null!=i?e+" >= "+i:"",a=null!=n?e+" <= "+n:"";let l="";return l=t&&a?x(t,a):t||a,l?"("+l+")":""}function x(e,i){let n=null!=e?e:"";return null!=i&&i&&(n=n?"("+n+") AND ("+i+")":i),n}function b(e,i){if(e&&"intersects"!==e.spatialRelationship)return new t.A(i,"Only 'intersects' spatialRelationship is supported for featureFilter")}function F(e,i,n){const a=function(e){const i=e.layer;return e.fields.filter(e=>!i.getField(e))}({layer:e,fields:i});if(a.length)return new t.A(n,"Unknown fields: "+a.join(", ")+". You can only use fields defined in the layer schema");const l=function(e){const i=e.layer;return e.fields.filter(e=>{const n=i.getFieldUsageInfo(e);return!n||!n.supportsStatistics})}({layer:e,fields:i});return l.length?new t.A(n,"Unsupported fields: "+l.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true"):void 0}},81835:(e,i,n)=>{n.r(i),n.d(i,{classBreaks:()=>s,heatmapStatistics:()=>u,histogram:()=>r,summaryStatistics:()=>l,uniqueValues:()=>o});var t=n(28383),a=n(72003);async function l(e){const{attribute:i,features:n}=e,{normalizationType:l,normalizationField:o,minValue:s,maxValue:r,fieldType:u,outStatisticTypes:f}=i,m=await(0,t.Jc)({field:i.field,valueExpression:i.valueExpression,normalizationType:l,normalizationField:o,normalizationTotal:i.normalizationTotal,viewInfoParams:i.viewInfoParams,timeZone:i.timeZone,fieldInfos:i.fieldInfos},n),d=(0,a.Vb)({normalizationType:l,normalizationField:o,minValue:s,maxValue:r}),c={value:.5,fieldType:u},p="esriFieldTypeString"===u?(0,a.z9)({values:m,supportsNullCount:d,percentileParams:c,outStatisticTypes:f}):(0,a.G_)({values:m,minValue:s,maxValue:r,useSampleStdDev:!l,supportsNullCount:d,percentileParams:c,outStatisticTypes:f});return(0,a.oZ)(p,f,"esriFieldTypeDate"===u)}async function o(e){const{attribute:i,features:n}=e,l=await(0,t.Jc)({field:i.field,field2:i.field2,field3:i.field3,fieldDelimiter:i.fieldDelimiter,valueExpression:i.valueExpression,viewInfoParams:i.viewInfoParams,timeZone:i.timeZone,fieldInfos:i.fieldInfos},n,!1),o=(0,a.b3)(l);return(0,a.lv)(o,i.domains,i.returnAllCodedValues,i.fieldDelimiter)}async function s(e){const{attribute:i,features:n}=e,{field:l,normalizationType:o,normalizationField:s,normalizationTotal:r,classificationMethod:u}=i,f=await(0,t.Jc)({field:l,valueExpression:i.valueExpression,normalizationType:o,normalizationField:s,normalizationTotal:r,viewInfoParams:i.viewInfoParams,timeZone:i.timeZone,fieldInfos:i.fieldInfos},n),m=(0,a.Rw)(f,{field:l,normalizationType:o,normalizationField:s,normalizationTotal:r,classificationMethod:u,standardDeviationInterval:i.standardDeviationInterval,numClasses:i.numClasses,minValue:i.minValue,maxValue:i.maxValue});return(0,a.jM)(m,u)}async function r(e){const{attribute:i,features:n}=e,{field:l,normalizationType:o,normalizationField:s,normalizationTotal:r,classificationMethod:u}=i,f=await(0,t.Jc)({field:l,valueExpression:i.valueExpression,normalizationType:o,normalizationField:s,normalizationTotal:r,viewInfoParams:i.viewInfoParams,timeZone:i.timeZone,fieldInfos:i.fieldInfos},n);return(0,a.$y)(f,{field:l,normalizationType:o,normalizationField:s,normalizationTotal:r,classificationMethod:u,standardDeviationInterval:i.standardDeviationInterval,numBins:i.numBins,minValue:i.minValue,maxValue:i.maxValue})}async function u(e){const{attribute:i,features:n}=e,{field:a,radius:l,transform:o,spatialReference:s}=i,r=i.size??[0,0],u=(0,t.$r)(n??[],o,s,r);return(0,t.gV)(u,l??void 0,a,r[0],r[1])}}}]);
//# sourceMappingURL=81835.353c0155.chunk.js.map